# MQ в Go (опционально, не для MVP codex-k8s)

Этот документ сохранён как резервный стандарт на случай добавления брокера сообщений в будущем.

## Текущий статус для codex-k8s

- В MVP `codex-k8s` не использует RabbitMQ как обязательную часть архитектуры.
- Основной поток событий: webhook -> PostgreSQL (event log/outbox) -> worker jobs.

## Если MQ будет добавлен позже

- Контракт сообщений фиксируется в `api/server/asyncapi.yaml`.
- Идемпотентность consumer'ов обязательна.
- Ретраи и DLQ должны быть явно настроены.
- Доменные use-case'ы зависят от интерфейсов (портов), а не от SDK брокера.
