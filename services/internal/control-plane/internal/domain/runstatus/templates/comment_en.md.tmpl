### ğŸ§  AI Agent Run
{{- if .NeedsCodexAuth }}
ğŸ” Codex authentication required{{- if .ManagementURL }}&nbsp;&nbsp;&nbsp;&nbsp;ğŸ“ [Run link]({{ .ManagementURL }}){{- end }}
{{- if .ShowCodexAuthVerificationURL }}
- Verification URL: [{{ .CodexAuthVerificationURL }}]({{ .CodexAuthVerificationURL }})
{{- end }}
{{- if .ShowCodexAuthUserCode }}
- User code: `{{ .CodexAuthUserCode }}`
{{- end }}
{{- else }}
{{- if .AgentStarted }}
âœ… Agent started{{- if .ManagementURL }}&nbsp;&nbsp;&nbsp;&nbsp;ğŸ“ [Run link]({{ .ManagementURL }}){{- end }}
{{- else if .PreparingRuntimeReached }}
ğŸ›  Runtime preparation in progress{{- if .ManagementURL }}&nbsp;&nbsp;&nbsp;&nbsp;ğŸ“ [Run link]({{ .ManagementURL }}){{- end }}
{{- else }}
ğŸ‘€ Agent launch is planned{{- if .ManagementURL }}&nbsp;&nbsp;&nbsp;&nbsp;ğŸ“ [Run link]({{ .ManagementURL }}){{- end }}
{{- end }}
{{- end }}

- Run ID: `{{ .RunID }}`
{{- if .ShowTriggerKind }}
- Trigger mode: `{{ .TriggerKind }}`
{{- end }}
{{- if .ShowRuntimeMode }}
- Runtime mode: `{{ .RuntimeMode }}`
{{- end }}
{{- if .ShowJobRef }}
- Job: `{{ .JobNamespace }}/{{ .JobName }}`
{{- end }}
{{- if .ShowNamespace }}
- Namespace: `{{ .Namespace }}`
{{- end }}
{{- if .ShowSlotURL }}
- Slot URL: [{{ .SlotURL }}]({{ .SlotURL }})
{{- end }}
{{- if .ShowIssueURL }}
- Issue: [{{ .IssueURL }}]({{ .IssueURL }})
{{- end }}
{{- if .ShowPullRequestURL }}
- PR: [{{ .PullRequestURL }}]({{ .PullRequestURL }})
{{- end }}
{{- if .ShowModel }}
- Model: `{{ .Model }}`
{{- end }}
{{- if .ShowReasoningEffort }}
- Reasoning effort: `{{ .ReasoningEffort }}`
{{- end }}
{{- if .RunStatus }}
- Run status: `{{ .RunStatus }}`
{{- end }}
{{- if .RecentAgentStatuses }}

### ğŸ¤– Latest Agent Statuses
{{- range .RecentAgentStatuses }}
- {{- if .AgentKey }}`{{ .AgentKey }}`: {{- end }}{{ .StatusText }}
{{- end }}
{{- end }}

### ğŸ•’ Timeline
{{- if .CreatedReached }}
- âœ… Run created
{{- else }}
- â³ Run is being created
{{- end }}
{{- if .ShowRuntimePreparation }}
{{- if .PreparingRuntimeReached }}
{{- if .RuntimePreparationCompleted }}
- âœ… Runtime preparation completed (namespace, runtime stack, slot URL)
{{- else }}
- ğŸ›  Runtime preparation in progress (namespace, runtime stack, slot URL)
{{- end }}
{{- else }}
- â³ Waiting for runtime preparation
{{- end }}
{{- end }}
{{- if .StartedReached }}
- âœ… Agent started
{{- else }}
- â³ Waiting for agent start
{{- end }}
{{- if .AuthRequested }}
{{- if .AuthResolvedReached }}
- âœ… Codex authentication resolved
{{- else if .NeedsCodexAuth }}
- ğŸ” Waiting for Codex authentication (see run console)
{{- else }}
- ğŸ” Codex authentication requested
{{- end }}
{{- end }}
{{- if .ShowFinished }}
{{- if .IsRunSucceeded }}
- ğŸ‘Œ Run finished successfully
{{- else if .IsRunFailed }}
- âš ï¸ Run finished with errors
{{- else }}
- âœ… Run finished
{{- end }}
{{- end }}
{{- if .ShowNamespaceAction }}
{{- if .AlreadyDeleted }}
- ğŸ—‘ï¸ Namespace was already deleted
{{- else if .Deleted }}
- ğŸ—‘ï¸ Namespace deleted
{{- else }}
- ğŸ§ª Namespace was kept. You can delete it from the run details page.
{{- end }}
{{- end }}

{{- if .ShowActionCardContract }}
### ğŸ§­ Next-step action-card contract
- `launch_profile`: {{- if .ActionCardLaunchProfile }}`{{ .ActionCardLaunchProfile }}`{{- else }}`n/a`{{- end }}
- `stage_path`: {{- if .ActionCardStagePath }}`{{ .ActionCardStagePath }}`{{- else }}`n/a`{{- end }}
- `primary_action`: {{- if .ActionCardPrimaryAction }}[{{ .ActionCardPrimaryAction }}]({{ .ActionCardPrimaryAction }}){{- else }}`n/a`{{- end }}
- `fallback_action`:
{{- if .ActionCardFallbackAction }}
```bash
{{ .ActionCardFallbackAction }}
```
{{- else }}
`n/a`
{{- end }}
- `guardrail_note`:
{{- if eq .ActionCardGuardrailNote "precheck_required" }}
`Fallback transition requires a labels pre-check; best-guess transitions are blocked.`
{{- else if eq .ActionCardGuardrailNote "ambiguous_stage_labels" }}
`Stage labels are ambiguous; transition is blocked until need:input is applied.`
{{- else if eq .ActionCardGuardrailNote "stage_path_unresolved" }}
`Next stage could not be resolved deterministically for this launch profile; need:input is required.`
{{- else if eq .ActionCardGuardrailNote "need_input_only" }}
`Target transition is unavailable, so only need:input remediation command is published.`
{{- else if .ActionCardGuardrailNote }}
`{{ .ActionCardGuardrailNote }}`
{{- else }}
`n/a`
{{- end }}
{{- end }}

{{- if .ShowActionCards }}
### â­ Next Steps
{{- if .ReviseActionLabel }}
- Revise current stage: {{- if .ReviseActionURL }}[`{{ .ReviseActionLabel }}`]({{ .ReviseActionURL }}){{- else }}`{{ .ReviseActionLabel }}`{{- end }}
{{- end }}
{{- if .NextStageActionLabel }}
- Move to next stage: {{- if .NextStageActionURL }}[`{{ .NextStageActionLabel }}`]({{ .NextStageActionURL }}){{- else }}`{{ .NextStageActionLabel }}`{{- end }}
{{- end }}
{{- if .AlternativeActionLabel }}
- Fast-track option: {{- if .AlternativeActionURL }}[`{{ .AlternativeActionLabel }}`]({{ .AlternativeActionURL }}){{- else }}`{{ .AlternativeActionLabel }}`{{- end }}
{{- end }}
{{- end }}

{{ .StateMarker }}
